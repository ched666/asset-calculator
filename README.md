# 资产配置计算器

一个智能的存款和理财产品配置计算器,帮助银行客户经理为客户推荐最优资产配置方案。

## 功能概述

### 三大功能模块

#### 1. 银行推荐模块 🏦
- 📋 **标准化方案**: 银行预设多种配置方案供客户选择
- 🎯 **快速展示**: 客户一键查看方案详情和收益测算
- ⚙️ **方案管理**: 产品经理可在后台自由配置推荐方案
- 🏷️ **倾向标签**: 流动性优先、收益优先、平衡组合

#### 2. 自定义配置模块 ✏️
- 💯 **自主配置**: 客户手动设置各产品比例
- 🤖 **智能推演**: 输入前几个产品比例,系统自动计算剩余配置
- 📊 **实时验证**: 显示总比例和预计收益率
- 📈 **5%步长**: 产品比例按5%增减,更加规范

#### 3. 智能计算模块 🎯
- 🧮 **自动推荐**: 根据目标收益率智能生成多个方案
- 💰 **三种倾向**: 收益优先、流动性优先、平衡组合
- 🔀 **多种模式**: 仅存款、仅理财、存款+理财
- 🛡️ **流动性保障**: 可设置活期存款最低比例

## 快速开始

### 启动应用
3. 选择产品类型（仅存款/仅理财/存款+理财）
4. 手动输入各产品的配置比例
5. 确保总比例为100%（会自动提示）
6. 点击"生成测算结果"查看收益情况

### 后台配置步骤
1. 打开 admin.html
2. 修改现有产品信息或添加新产品
3. 点击"保存配置"
4. 返回计算器页面即可使用新配置

## 计算逻辑说明

### 优化目标
- **主要约束**：
  1. 客户综合收益率 ≥ 目标收益率
  2. 活期存款比例 ≥ 保底流动性比例（仅存款和混合模式）
- **优化目标**：根据配置倾向不同而不同

### 银行收益计算

```bash
cd d:\pytools
python -m http.server 8000
```

然后在浏览器中打开:
- **主计算器**: http://localhost:8000/index.html
- **产品管理**: http://localhost:8000/admin.html  
- **方案管理**: http://localhost:8000/schemes-admin.html

## 使用指南

### 银行推荐模块

**适用场景**: 为客户提供标准化的配置方案

**使用步骤**:
1. 产品经理在[方案管理后台](http://localhost:8000/schemes-admin.html)配置推荐方案
2. 建议配置9个标准方案:
   - 仅存款：流动性优先、收益优先、平衡组合
   - 仅理财：流动性优先、收益优先、平衡组合  
   - 存款+理财：流动性优先、收益优先、平衡组合
3. 客户在主界面选择"银行推荐"标签
4. 输入资金金额
5. 点击方案卡片的"查看详情"按钮
6. 查看详细的产品配置和收益测算

### 自定义配置模块

**适用场景**: 客户希望自己指定各产品的具体比例

**基础使用**:
1. 选择"自定义配置"标签
2. 输入资金金额
3. 选择产品类型(仅存款/仅理财/存款+理财)
4. 手动输入各产品比例(按5%步长)
5. 确保总比例为100%
6. 点击"生成测算结果"

**智能推演功能** 🤖:
1. 勾选"自动推演"复选框
2. 输入目标综合收益率
3. 手动输入前1-2个产品的比例
4. 点击"开始推演"按钮
5. 系统自动计算并填充剩余产品比例
6. 查看推演结果和预计收益率

推演算法会根据目标收益率智能分配剩余产品,优先使用高收益产品,自动按5%步长取整。

### 智能计算模块

**适用场景**: 客户提供目标收益率,系统自动推荐方案

**使用步骤**:
1. 选择"智能计算"标签
2. 输入资金金额和目标收益率
3. 选择配置方式(仅存款/仅理财/存款+理财)
4. 选择倾向类型:
   - **流动性优先**: 高比例活期存款和短期产品
   - **收益优先**: 配置长期高收益产品
   - **平衡组合**: 短中长期均衡配置
5. 如选择存款类型,设置活期存款最低比例
6. 点击"开始计算"
7. 查看智能推荐的多个方案

## 后台管理

### 产品管理 (admin.html)

配置存款和理财产品的基础数据:
- **存款产品**: 客户收益率、FTP利率  
- **理财产品**: 客户收益率、佣金率

可添加、编辑、删除产品,也可恢复默认配置。

### 方案管理 (schemes-admin.html)

配置银行推荐方案:
1. 点击"+ 添加新方案"
2. 设置方案名称、类型、倾向标签、描述
3. 添加产品并设置比例(按5%步长)
4. 确保总比例为100%
5. 点击"保存所有方案"

**默认方案**: 系统预设了9个标准方案,可通过"恢复默认方案"按钮恢复。

## 默认产品配置

### 存款产品
| 产品名称 | 客户利率 | 银行FTP | 银行收益 |
|---------|---------|---------|---------|
| 活期存款 | 0.05% | 2.4% | 2.35% |
| 7天通知 | 0.75% | 1.9% | 1.15% |
| 3个月 | 1% | 2% | 1% |
| 6个月 | 1.2% | 2.05% | 0.85% |
| 1年 | 1.3% | 2.15% | 0.85% |

### 理财产品
| 产品名称 | 客户利率 | 销售费率 | 银行收益 |
|---------|---------|---------|---------|
| T+1赎回 | 1.75% | 0.1% | 0.1% |
| 7天赎回 | 2.08% | 0.05% | 0.05% |
| 14天赎回 | 1.87% | 0.05% | 0.05% |
| 3个月赎回 | 2% | 0.05% | 0.05% |

## 文件说明

- [index.html](index.html) - 主计算器界面
- [admin.html](admin.html) - 产品管理后台
- [schemes-admin.html](schemes-admin.html) - 方案管理后台
- [style.css](style.css) - 样式文件(响应式设计)
- [calculator.js](calculator.js) - 计算逻辑和核心算法
- [admin.js](admin.js) - 产品配置管理逻辑
- [schemes-admin.js](schemes-admin.js) - 方案配置管理逻辑

## 技术特点

1. **纯前端应用**: 无需后端服务器,使用localStorage存储数据
2. **响应式设计**: 支持移动端和PC端
3. **智能算法**: 基于倾向的配置推荐算法
4. **5%步长控制**: 产品比例按5%步长调整,更加规范
5. **自动推演**: 智能计算剩余产品配置,减少手工输入

## 配置策略

### 流动性优先
- **存款**: 活期30-40%,剩余配置短期存款
- **理财**: T+1赎回50%以上,配合7天赎回
- **混合**: 高比例活期+T+1理财组合

### 收益优先  
- **存款**: 活期仅保底,主要配置长期存款
- **理财**: 选择高收益理财产品
- **混合**: 长期存款+高收益理财

### 平衡组合
- **存款**: 短中长期分散配置
- **理财**: 多种期限均衡配置
- **混合**: 存款理财各占一半,多元化配置

## 数据持久化

所有配置数据保存在浏览器localStorage中:
- `productConfig`: 产品基础数据
- `bankSchemes`: 银行推荐方案

**注意**: 清除浏览器缓存会丢失自定义配置,建议定期备份。

## 浏览器兼容性

支持所有现代浏览器:
- Chrome / Edge (推荐)
- Firefox  
- Safari
- 移动端浏览器

## 版本更新

### v2.0 (最新)
- ✅ 新增银行推荐模块
- ✅ 新增方案管理后台
- ✅ 新增自动推演功能
- ✅ 产品比例改为5%步长
- ✅ 优化三标签页切换
- ✅ 完善移动端适配

### v1.0
- ✅ 智能计算功能  
- ✅ 自定义配置功能
- ✅ 产品管理后台
- ✅ 三种倾向算法

## 后续优化建议

1. 增加历史方案保存和对比功能
2. 添加数据导出功能(Excel/PDF)
3. 增加可视化图表展示(饼图、柱状图)
4. 支持批量计算和敏感性分析  
5. 添加方案打印功能
6. 支持方案分享(二维码或链接)

## 注意事项

- 产品配置数据保存在浏览器本地,清除浏览器数据会丢失自定义配置
- 方案中的产品名称必须与产品管理中的名称完全一致
- 自定义配置和方案管理中,总比例必须等于100%
- 建议使用Chrome、Edge、Firefox等现代浏览器

---

如有任何问题或建议,欢迎反馈!